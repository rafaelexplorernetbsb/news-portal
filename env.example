# ========================================
# ARQUIVO DE CONFIGURAÇÃO DE AMBIENTE
# ========================================
# Copie este arquivo para .env e ajuste os valores conforme seu ambiente

# ========================================
# CONFIGURAÇÃO BÁSICA
# ========================================

# Ambiente (dev ou prod)
ENV=dev
COMPOSE_PROJECT_NAME=news-portal

# ========================================
# BANCO DE DADOS
# ========================================

# PostgreSQL
DIRECTUS_DB_DATABASE=directus_dev
DIRECTUS_DB_USER=directus_dev
DIRECTUS_DB_PASSWORD=directus123
DIRECTUS_DB_CLIENT=pg
DIRECTUS_DB_PORT=5432
POSTGRES_PORT=5432

# ========================================
# REDIS
# ========================================

# Redis (em produção, defina uma senha forte)
REDIS_PASSWORD=
REDIS_PORT=6379

# ========================================
# DIRECTUS
# ========================================

# Chaves de segurança (gere novas para produção!)
DIRECTUS_KEY=255d861b-5ea1-5996-9aa3-922530ec40b1
DIRECTUS_SECRET=6116487b-cda1-52c2-b5b5-c8022c45e263

# Credenciais do administrador
DIRECTUS_ADMIN_EMAIL=admin@example.com
DIRECTUS_ADMIN_PASSWORD=admin123

# URL do Directus
# DESENVOLVIMENTO: http://localhost:8055
# PRODUÇÃO: https://api.seudominio.com
DIRECTUS_URL=http://localhost:8055
DIRECTUS_PORT=8055

# ========================================
# PROXY DA API (FRONTEND)
# ========================================

# Credenciais para o frontend acessar o Directus
# Em desenvolvimento: pode usar as mesmas do admin
# Em produção: recomenda-se criar usuário específico
DIRECTUS_PROXY_EMAIL=admin@example.com
DIRECTUS_PROXY_PASSWORD=admin123

# ========================================
# CACHE E PERFORMANCE
# ========================================

# Cache
# DESENVOLVIMENTO: false (desabilitado)
# PRODUÇÃO: true (habilitado)
CACHE_ENABLED=false
CACHE_STORE=memory
CACHE_REDIS=redis://redis:6379

# Logging
# DESENVOLVIMENTO: info, pretty (mais verboso)
# PRODUÇÃO: warn, json (mais restritivo)
LOG_LEVEL=info
LOG_STYLE=pretty

# Rate Limiting
# DESENVOLVIMENTO: false (desabilitado)
# PRODUÇÃO: true (habilitado)
RATE_LIMITER_ENABLED=false
RATE_LIMITER_POINTS=50
RATE_LIMITER_DURATION=1

# ========================================
# FRONTEND
# ========================================

# URLs do frontend
# DESENVOLVIMENTO: http://localhost:8055
# PRODUÇÃO: https://api.seudominio.com
NEXT_PUBLIC_DIRECTUS_URL=http://localhost:8055
NEXT_PUBLIC_API_TOKEN=
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_SITE_NAME=Portal de Notícias
NEXT_PUBLIC_VAPID_PUBLIC_KEY=BEMOcJ6Dkj_5DeGVdERtJa80y0XZez-AQYBZfnVO0cwwm23TkpZC3XM75qMnCpvXSU1eIqA1AAPCDHZ8vrn5izM
FRONTEND_PORT=3000

# ========================================
# WEBSCRAPER
# ========================================

# Configuração dos webscrapers
WEBSCRAPER_DIRECTUS_URL=http://localhost:8055
WEBSCRAPER_DIRECTUS_TOKEN=
WEBSCRAPER_INTERVAL_MINUTES=5
WEBSCRAPER_MAX_ARTICLES=10

# ========================================
# PUSH NOTIFICATIONS (VAPID KEYS)
# ========================================

# Chaves VAPID para push notifications
# Estas chaves são geradas automaticamente pelo setup.sh
VAPID_PUBLIC_KEY=BEMOcJ6Dkj_5DeGVdERtJa80y0XZez-AQYBZfnVO0cwwm23TkpZC3XM75qMnCpvXSU1eIqA1AAPCDHZ8vrn5izM
VAPID_PRIVATE_KEY=Qft8aiLryh3WRI05IiyXgLYpKc-lMgoPoiGBe12nRjU
VAPID_EMAIL=mailto:admin@example.com

# ========================================
# NGINX (APENAS EM PRODUÇÃO)
# ========================================

# Portas do Nginx
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# ========================================
# STORAGE
# ========================================

# Configuração de armazenamento
STORAGE_LOCATIONS=local
STORAGE_LOCAL_ROOT=/directus/uploads
STORAGE_LOCAL_PUBLIC_URL=/uploads

# ========================================
# CORS
# ========================================

# Configuração CORS
# DESENVOLVIMENTO: true (permite qualquer origem)
# PRODUÇÃO: https://seudominio.com (apenas seu domínio)
CORS_ENABLED=true
CORS_ORIGIN=true

# ========================================
# INSTRUÇÕES DE CONFIGURAÇÃO
# ========================================

# DESENVOLVIMENTO:
# 1. Copie este arquivo: cp env.example .env.local
# 2. Mantenha os valores padrão
# 3. Execute: docker-compose up -d

# PRODUÇÃO:
# 1. Copie este arquivo: cp env.example .env
# 2. Altere as seguintes variáveis:
#    - ENV=prod
#    - DIRECTUS_DB_PASSWORD=senha_forte
#    - REDIS_PASSWORD=senha_forte
#    - DIRECTUS_KEY=chave_nova_gerada
#    - DIRECTUS_SECRET=secret_novo_gerado
#    - DIRECTUS_ADMIN_EMAIL=seu_email@dominio.com
#    - DIRECTUS_ADMIN_PASSWORD=senha_forte
#    - DIRECTUS_URL=https://api.seudominio.com
#    - DIRECTUS_PROXY_EMAIL=proxy@seudominio.com
#    - DIRECTUS_PROXY_PASSWORD=senha_forte
#    - CACHE_ENABLED=true
#    - CACHE_STORE=redis
#    - LOG_LEVEL=warn
#    - LOG_STYLE=json
#    - RATE_LIMITER_ENABLED=true
#    - NEXT_PUBLIC_DIRECTUS_URL=https://api.seudominio.com
#    - NEXT_PUBLIC_SITE_URL=https://seudominio.com
#    - CORS_ORIGIN=https://seudominio.com
# 3. Execute: docker-compose --profile production up -d

# VALIDAÇÃO:
# Execute ./validate-env.sh para verificar se todas as variáveis estão corretas
